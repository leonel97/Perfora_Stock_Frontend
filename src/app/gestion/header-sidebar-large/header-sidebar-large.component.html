<div class="main-header">
  <div class="logo">
    <img src="./assets/images/pal.png" alt="" routerLink="/gestion/accueil">
  </div>

  <!--div id="menutog" class="menu-toggle" (click)="toggelSidebar()">
    <div></div>
    <div></div>
    <div></div>
  </div-->

  <!--div class="d-flex align-items-center">
    <div id="armoirie">
      <img src="./assets/images/Armoirie.png" id="armoirie" alt="LOGO">
    </div>
  </div-->
  <div class="btn-group dropright dropdown-submenu" *ngIf="auth.hasAccess('fichier')">
    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Fichier
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <button class="dropdown-item" routerLink="/gestion/fichier/exo" *ngIf="auth.hasAccess('fichier_exo')" >Exercice</button>
      <button class="dropdown-item" routerLink="/gestion/fichier/importation" *ngIf="auth.hasAccess('import')" >Importation</button>
       

        <!--button class="dropdown-item">Something else here</button-->
    </div>
</div>


  <div class="btn-group dropright dropdown-submenu" *ngIf="auth.hasAccess('def')">
      <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Définition
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <!--button class="dropdown-item" routerLink="/gestion/definition/direction" >Direction</button-->
          <button class="dropdown-item" routerLink="/gestion/definition/type-centre-consommation" *ngIf="auth.hasAccess('def_cat_centr')" >Catégorie de Centre de Consommation</button>
          <button class="dropdown-item" routerLink="/gestion/definition/centre-consommation" *ngIf="auth.hasAccess('def_centr_cons')" >Centre de Consommation</button>
          <button class="dropdown-item" routerLink="/gestion/definition/magasin" *ngIf="auth.hasAccess('def_mag')" >Magasin</button>
          <button class="dropdown-item" routerLink="/gestion/definition/famille-article" *ngIf="auth.hasAccess('def_fami_art')" >Famille Article</button>
          <button class="dropdown-item" routerLink="/gestion/definition/type-article" *ngIf="auth.hasAccess('def_categ_art')" >Catégorie Article</button>
          <button class="dropdown-item" routerLink="/gestion/definition/uniter-article" *ngIf="auth.hasAccess('def_unit_compt')" >Unité de Comptage</button>
          <button class="dropdown-item" routerLink="/gestion/definition/article" *ngIf="auth.hasAccess('def_articl')" >Article</button>
          <button class="dropdown-item" routerLink="/gestion/definition/cause-annomalie" *ngIf="auth.hasAccess('def_cause_ano')" > Ecart d'inventaire (Cause & Anomalie)</button>
          <!--button class="dropdown-item" routerLink="/gestion/definition/type-fournisseur" >Catégorie de Fournisseur</button-->
          <button class="dropdown-item" routerLink="/gestion/definition/fournisseur" *ngIf="auth.hasAccess('def_fournis')">Fournisseur</button>
      </div>
  </div>

  <!--Menu Saisie-->

  <div class="btn-group dropright dropdown-submenu" *ngIf="auth.hasAccess('saisie')">
      <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Saisie
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <div class="dropright dropdown-submenu">
              <!--button class="dropdown-item dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Approvisionnement</button-->
              <button class="dropdown-item dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Passation de Marché</button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-depot-offre-facture-proformat" *ngIf="auth.hasAccess('saisie_fact_prof')" >Factures Proformats (FP)</button>
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-demande-prix" *ngIf="auth.hasAccess('saisie_dem_cota')" >Demandes de Cotation (DC)</button>
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-demande-prix" *ngIf="auth.hasAccess('saisie_drp')" >Demande de Renseignement de Prix (DRP)</button>
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-demande-prix" *ngIf="auth.hasAccess('saisie_aoo')" >Appels d'Offres Ouvert (AOO)</button>
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-demande-prix" *ngIf="auth.hasAccess('saisie_ed')" >Entente Directe (ED)</button>
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-demande-prix" *ngIf="auth.hasAccess('saisie_pi')" >Prestation Intellectuelle (PI)</button>
                  <button class="dropdown-item" routerLink="/gestion/saisie/appro-depot-offre-facture-proformat" *ngIf="auth.hasAccess('saisie_ami')" >Appel à Manifestation d'Interêt</button>
              </div>
          </div>

          <button class="dropdown-item" routerLink="/gestion/saisie/commande-achat" *ngIf="auth.hasAccess('saisie_ca')">Commande Achat</button>
          <button class="dropdown-item" routerLink="/gestion/saisie/lettre-commande" *ngIf="auth.hasAccess('saisie_lc')">Lettre de Commande</button>
          <!--button class="dropdown-item" routerLink="/gestion/saisie/bon-travail">Bon de Travail</button-->
          <button class="dropdown-item" routerLink="/gestion/saisie/bon-travail" *ngIf="auth.hasAccess('saisie_cmd')">Caisse Menu Dépenses</button>
          <button class="dropdown-item" routerLink="/gestion/saisie/appel-offre" *ngIf="auth.hasAccess('saisie_ao')">Appels d'Offres</button>

          <div class="dropright dropdown-submenu">
              <button class="dropdown-item dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Stocks</button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <button class="dropdown-item" routerLink="/gestion/saisie/stock-stock-initial" *ngIf="auth.hasAccess('saisie_stck_init')" >Stock Initial</button>
                      <button class="dropdown-item" routerLink="/gestion/saisie/stock-entree-article" *ngIf="auth.hasAccess('saisie_recept')" >Entrée d'Article</button>
                      <button class="dropdown-item" routerLink="/gestion/saisie/stock-etat-stock" *ngIf="auth.hasAccess('saisie_etat_stock')" >Etat de Stock</button>
              </div>
          </div>

          <div class="dropright dropdown-submenu" >
              <button class="dropdown-item dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Consommations Internes</button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <button class="dropdown-item" routerLink="/gestion/saisie/conso-interne-demande-besoin" *ngIf="auth.hasAccess('saisie_dem_bes')" >Demande ( Expression de Bésoin )</button>
                      <button class="dropdown-item" routerLink="/gestion/saisie/conso-interne-servir-besoin" *ngIf="auth.hasAccess('saisie_servir')" >Servir</button>
              </div>
          </div>
  
          <button class="dropdown-item" routerLink="/gestion/saisie/stock-inventaire" *ngIf="auth.hasAccess('saisie_inv')">Inventaire</button>
          <button class="dropdown-item" routerLink="/gestion/saisie/cloture-periodique" *ngIf="auth.hasAccess('saisie_clot_peri')">Clôture périodique</button>
      </div>


  </div>

  <!--Menu Comptabilisation-->

  <div class="btn-group dropright dropdown-submenu" *ngIf="auth.hasAccess('compta')">
      <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Comptabilisation
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <button class="dropdown-item" routerLink="/gestion/comptabilisation/operation-journal" *ngIf="auth.hasAccess('compta_cg')">Comptes Généraux</button>
          <button class="dropdown-item" routerLink="/gestion/comptabilisation/operation-journal" *ngIf="auth.hasAccess('compta_oja')">Opération et Journal associé</button>
          <button class="dropdown-item" routerLink="/gestion/comptabilisation/imputation-article" *ngIf="auth.hasAccess('compta_iacdj')">Imputation des Articles et Configuration des Journaux</button>
          <button class="dropdown-item" routerLink="/gestion/comptabilisation/ecriture-comptable" *ngIf="auth.hasAccess('compta_gec')">Génération des Ecritures Comptables</button>
      </div>
  </div>



  <div class="btn-group dropright dropdown-submenu" *ngIf="auth.hasAccess('rapport')">
      <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Rapports
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <button class="dropdown-item" routerLink="/gestion/rapport/article-famille" *ngIf="auth.hasAccess('rapport_apf')" >Articles Par familles</button>
          <button class="dropdown-item" routerLink="/gestion/rapport/eng-com-article" *ngIf="auth.hasAccess('rapport_ce')" >Commandes ou engagements</button>
          <button class="dropdown-item" routerLink="/gestion/rapport/entree-achat" *ngIf="auth.hasAccess('rapport_ea')" >Entrée d'Achat</button>
          <!--button class="dropdown-item" routerLink="/gestion/rapport/achat" >Achat</button-->
          <button class="dropdown-item" routerLink="/gestion/rapport/conso-interne" *ngIf="auth.hasAccess('rapport_eb')" >Expression de Bésoin</button>
          <button class="dropdown-item" routerLink="/gestion/rapport/bon-servir" *ngIf="auth.hasAccess('rapport_ci')" >Consommation Interne</button>
          <button class="dropdown-item" routerLink="/gestion/rapport/stock" *ngIf="auth.hasAccess('rapport_stck')" >Stock</button>
        
      </div>
  </div>

  <!--Menu Paramétrage-->
  <div class="btn-group dropright dropdown-submenu" *ngIf="auth.hasAccess('param')">
    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Paramétrage
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <button class="dropdown-item"  routerLink="/gestion/utilisateur/user" *ngIf="auth.hasAccess('param_user')" >Utilisateurs</button>
        <button class="dropdown-item" routerLink="/gestion/utilisateur/user-group" *ngIf="auth.hasAccess('param_grp_user')">Groupes Utilisateurs</button>
        <button class="dropdown-item" routerLink="/gestion/parametrage/civilite" *ngIf="auth.hasAccess('param_civi')">Civilité</button>
        <button class="dropdown-item" routerLink="/gestion/definition/type-fournisseur" *ngIf="auth.hasAccess('param_nation')">Nationalité</button>
        <button class="dropdown-item" routerLink="/gestion/parametrage/profession" *ngIf="auth.hasAccess('param_profss')">Profession </button>
        <button class="dropdown-item" routerLink="/gestion/parametrage/fonction" *ngIf="auth.hasAccess('param_fonct')">Fonction </button>
    </div>
</div>

<!--div style= "z-index:50; position:fixed; right:12%; font-size: 18px;  border: 5px;">
  <select id="exerciceSelected" (change)="onChange($event)">
    <option [ngValue]="null">Exercice</option>
    <option *ngFor="let exoSelected of exerciceFiltered" [value]="exoSelected" [selected]="exoSelected.cloturerExo == false">{{exoSelected.codeExercice+' - '+exoSelected.libExercice}}</option>
  </select>
</div-->



  <div style="margin: auto"></div>


  <div class="header-part-right">
    <!--i class="i-Magnifi-Glass1 header-icon" role="button" (click)="searchService.searchOpen = true"></i>
    <i fullScreenWindow class="i-Full-Screen header-icon d-none d-sm-inline-block" role="button"></i-->
    <!--div ngbDropdown [placement]="'bottom-right'" class="d-none d-sm-inline-block">
        <i ngbDropdownToggle class="i-Gear text-muted header-icon" role="button"></i>
        <div ngbDropdownMenu class="menu-icon-grid-dropdown">
            <div class="menu-icon-grid">
                <a href="#"><i class="i-Shop-4"></i> Home</a>
                <a href="#"><i class="i-Library"></i> UI Kits</a>
                <a href="#"><i class="i-Drop"></i> Apps</a>
                <a href="#"><i class="i-File-Clipboard-File--Text"></i> Forms</a>
                <a href="#"><i class="i-Checked-User"></i> Sessions</a>
                <a href="#"><i class="i-Ambulance"></i> Support</a>
            </div>
        </div>
    </div-->

    <div ngbDropdown [placement]="'bottom-right'">
        <div class="badge-top-container">
            <span class="badge badge-primary">{{notifications.length}}</span>
            <i ngbDropdownToggle class="i-Bell text-muted header-icon" role="button"></i>
        </div>
        <div ngbDropdownMenu class="notification-dropdown rtl-ps-none" perfectScrollbar>
            <div class="dropdown-item d-flex" *ngFor="let item of notifications" [routerLink]="[item.link]">
                <div class="notification-icon">
                    <i class="{{item.icon}} text-{{item.status}} mr-1"></i>
                </div>
                <div class="notification-details flex-grow-1">
                    <p class="m-0 d-flex align-items-center">
                        <span>{{item.title}}</span>
                        <span *ngIf="item.badge" class="badge badge-pill badge-{{item.status}} ml-1 mr-1">{{item.badge}}</span>
                        <span class="flex-grow-1"></span>
                        <span class="text-small text-muted ml-auto">{{item.time | relativeTime}}</span>
                    </p>
                    <p class="text-small text-muted m-0">{{item.text | excerpt:30}}</p>
                </div>
            </div>
        </div>
    </div>

    <div ngbDropdown [placement]="'bottom-right'" class="user col align-self-end">
      
      <table style="display:inline-block; text-align: center;margin-right:50px;">
        <tr>
          <td>{{userConnected.nomUtilisateur}} {{userConnected.prenomUtilisateur}}  </td>
        </tr>
      </table>
      

        <img src="./assets/images/faces/iconHommeNoir.jpg" id="userDropdown" ngbDropdownToggle alt="">

        <div ngbDropdownMenu aria-labelledby="userDropdown" class="header-account-dropdown">
            <!--div class="dropdown-header">
                <i class="i-Lock-User mr-1"></i> Timothy Carlson
            </div-->
            <button class="dropdown-item">Information du compte</button>
            <button class="dropdown-item" routerLink="/change-password" >Changer mon mot de passe</button>
            <button class="dropdown-item" (click)="signout()">Déconnexion</button>
        </div>
    </div>

</div>

</div>
<!--<div style="z-index:50; position: fixed;top:78px; right:10%;" *ngIf="currentUser.exercicefonctions">
  <select id="userExerciceFonctionId" style="border: none; max-width: 200px;" (change)="onChange($event.target.value)">
    <option [ngValue]="null">Service - Fonction</option>
    <option *ngFor="let exerciceFonction of currentUser.exercicefonctions" [value]="exerciceFonction.id">{{exerciceFonction.serviceLibelle+' - '+exerciceFonction.fonctionLibelle}}</option>
  </select>
</div>-->

